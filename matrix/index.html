<!DOCTYPE html>

<html lang="es">

    <head>

        <meta charset="UTF-8">

        <meta http-equiv="X-UA-Compatible" content="IE=edge">

        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <title> Mtrx </title>

        <style>

            * {

                box-sizing: border-box;
                margin: 0;
                padding: 0;
                user-select: none;
                color: #b3f;
                font-family: monospace;
            }

            html {

                background: #222;
            }

            body {

                width: 100vw;
                height: 100vh;
                overflow: hidden;
            }

            #container p {

                display: inline-block;
                height: 250vh;
                writing-mode: vertical-lr;
                text-orientation: upright;
                white-space: nowrap;
                overflow: hidden;
                transform: translateY(-250vh);
            }

            .moving {

                animation: move 10s steps(65) infinite;
            }

            @keyframes move {

                0% {

                    transform: translateY(-250vh);
                }

                100% {

                    transform: translateY(250vh);
                }
            }

            #clock_container {

                position: absolute;
                z-index: 9;
                top: 0;
                left: 0;
                display: flex;
                width: 100vw;
                height: 100vh;
                justify-content: center;
                align-items: center;
            }

            #clock {
                display: flex;
                width: 30vw;
                height: 10vw;
                border: 2px solid #b3f;
                background: #0007;
                align-items: center;
                justify-content: center;
                font-size: 3vw;
                font-weight: bolder;
            }

            @media (max-width: 800px) {
                
                #clock {

                    width: 35vw;
                    height: 10vw;
                    font-size: 4.5vw;
                }
            }

            @media (max-width: 500px) {
                
                #clock {

                    width: 50vw;
                    height: 10vw;
                    font-size: 6vw;
                }
            }
        </style>
    </head>

    <body>

        <div id="container">

            <div id="clock_container">

                <div id="clock"></div>
            </div>
        </div>
    </body>

    <script>

        // CLOCK

        setInterval(()=>{

            date = new Date();

            hrs = date.getHours();
            mins = date.getMinutes();
            secs = date.getSeconds();

            period = "AM";

            if (hrs == 0) {

                hrs = 12;
            }

            else if (hrs >= 12) {

                hrs = hrs - 12;

                period = "PM";
            }

            hrs = hrs < 10 ? "0" + hrs : hrs;

            mins = mins < 10 ? "0" + mins : mins;

            secs = secs < 10 ? "0" + secs : secs;

            time = `${hrs}:${mins}:${secs} ${period}`;

            document.getElementById('clock').innerText = time;

        }, 1000);

        // MATRIX SCREENSAVER

        window.addEventListener("resize", ()=>{ location.reload(); });

        container = document.getElementById("container");

        chars = '0123456789ABCDEGHJKÑÇ@#$%&=+°*<^>¶ΓΔΞΣΨΩÆБДЖЛФЦЧЩЪЭアあいうえかきくけこㄱㄴㄷㄹㅁㅅㅏㅐㅓㅗ诶必西弟衣艾付记爱耻';

        charsArray = chars.split('');

        windowWidth = window.innerWidth;

        switch (windowWidth < 1024) {

            case false:

                lines = 50;

                fontSize = 2;

            break;

            default:

                switch (windowWidth < 768) {

                    case false:

                        lines = 20;

                        fontSize = 3;

                    break;

                    default:

                        switch (windowWidth < 300) {

                            case false:

                                lines = 10;

                                fontSize = 5;

                            break;

                            default:

                                lines = 5;

                                fontSize = 10;

                            break;
                        }

                    break;
                }

            break;
        }

        linesWidth = windowWidth/lines;

        linesIDs = [];

        for (let i = 0; i < lines; i++) {

            charsArray.sort( function() { return 0.5 - Math.random() } );

            shuffledCharsArray = charsArray.join('');

            newLine = document.createElement("p");

            newLine.setAttribute("style", "width: " + linesWidth + "px;font-size: " + fontSize + "vw;");

            newLine.setAttribute("id", i + 1);

            container.appendChild(newLine);

            newLine.innerText = shuffledCharsArray;

            linesIDs.push(i + 1);
        }

        linesIDs.sort( function() { return 0.5 - Math.random() } );

        for (let i = 0; i < linesIDs.length; i++) {

            setTimeout(()=>{

                let e = linesIDs[i];

                document.getElementById(e).classList.add("moving");
            }, i * 1000);
        }
    </script>
</html>